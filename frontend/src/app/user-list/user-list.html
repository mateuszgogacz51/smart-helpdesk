<div class="dashboard-container">
  
  <header class="details-header">
    <button class="back-btn" (click)="goBack()">â† WrÃ³Ä‡ do Dashboardu</button>
    <h2 class="section-title">ğŸ‘¥ ZarzÄ…dzanie UÅ¼ytkownikami</h2>
  </header>

  <div class="user-card">
    <table class="user-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Login</th>
          <th>Rola</th>
          <th>ImiÄ™ i Nazwisko</th>
          <th>Akcje</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td>#{{ user.id }}</td>
          <td><strong>{{ user.username }}</strong></td>
          <td>
            <span [class]="'status-badge ' + user.role">{{ user.role }}</span>
          </td>
          <td>{{ user.firstName }} {{ user.lastName }}</td>
          <td>
            <button class="action-btn" (click)="editUser(user)">âœï¸ Edytuj</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="users.length === 0" style="text-align: center; padding: 20px; color: #888;">
      Brak uÅ¼ytkownikÃ³w do wyÅ›wietlenia lub trwa Å‚adowanie...
    </div>
  </div>

  <div *ngIf="selectedUser" class="modal-overlay">
    <div class="edit-box">
      <h3>Edycja: {{ selectedUser.username }}</h3>
      
      <div class="form-group">
        <label>Rola:</label>
        <select [(ngModel)]="newRole" class="styled-input">
          <option value="USER">USER</option>
          <option value="HELPDESK">HELPDESK</option>
          <option value="ADMIN">ADMIN</option>
        </select>
      </div>

      <div class="form-group">
        <label>Nowe hasÅ‚o (opcjonalne):</label>
        <input type="password" [(ngModel)]="newPassword" placeholder="Wpisz nowe hasÅ‚o..." class="styled-input">
      </div>

      <div class="actions">
        <button class="save-btn" (click)="saveChanges()">ğŸ’¾ Zapisz</button>
        <button class="cancel-btn" (click)="selectedUser = null">Anuluj</button>
      </div>
    </div>
  </div>

</div>